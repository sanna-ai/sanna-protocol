sanna_constitution: "1.0.0"

identity:
  agent_name: test-full-agent
  domain: testing
  description: Full-featured constitution exercising all schema sections

provenance:
  authored_by: test-author@sanna.dev
  approved_by:
    - test-author@sanna.dev
    - test-reviewer@sanna.dev
  approval_date: "2026-02-22"
  approval_method: dual-review

boundaries:
  - id: B001
    description: Agent operates within testing scope only
    category: scope
    severity: high
  - id: B002
    description: Agent must not access credentials
    category: confidentiality
    severity: critical
  - id: B003
    description: Agent must follow safety constraints
    category: safety
    severity: critical

authority_boundaries:
  can_execute:
    - "*_read"
    - "*_search"
    - "*_list"
  must_escalate:
    - condition: "Any write or create operation"
    - condition: "Any delete operation"
      target:
        type: webhook
        url: "https://example.com/escalations"
  cannot_execute:
    - "*_credential*"
    - "shell_*"

halt_conditions:
  - id: H001
    trigger: Critical check failure in context contradiction detection
    escalate_to: test-author@sanna.dev
    severity: critical
    enforcement: halt
  - id: H002
    trigger: Unauthorized access to prohibited resource
    escalate_to: test-author@sanna.dev
    severity: high
    enforcement: halt

trust_tiers:
  autonomous:
    - "*_read"
    - "*_search"
  requires_approval:
    - "*_write"
    - "*_delete"
  prohibited:
    - "*_credential*"

invariants:
  - id: INV_NO_FABRICATION
    rule: Agent must not fabricate information absent from provided context
    enforcement: halt
    check: sanna.context_contradiction
  - id: INV_MARK_INFERENCE
    rule: Agent must clearly mark inferences that go beyond source material
    enforcement: warn
    check: sanna.unmarked_inference
  - id: INV_NO_FALSE_CERTAINTY
    rule: Agent must not express certainty beyond what evidence supports
    enforcement: warn
    check: sanna.false_certainty
  - id: INV_PRESERVE_TENSION
    rule: Agent must preserve conflicting evidence without collapsing to a single narrative
    enforcement: warn
    check: sanna.conflict_collapse
  - id: INV_NO_PREMATURE_COMPRESSION
    rule: Agent must not reduce nuanced situations to simple summaries prematurely
    enforcement: log
    check: sanna.premature_compression

trusted_sources:
  tier_1:
    - internal-database
    - verified-api
  tier_2:
    - partner-api
  tier_3:
    - public-web
  untrusted:
    - user-input

escalation_targets:
  default: log
